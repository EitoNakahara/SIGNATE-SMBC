# SIGNATE-SMBC

暫定評価9位0.38程度、最終評価0.369程度の解法になります。

#### 特徴量エンジニアリングで意識したこと
*   「外部から木の特徴」、下のURL先の2つのPDFから木の種類に関する特徴量を作成。データに含まれている木の種類すべてを網羅できているわけではないが、何らかの特徴があることに期待した。
https://www.nycgovparks.org/trees/street-tree-planting/species-list
*   「木の太さの特徴」を増やす。
*   「場所に関する特徴」を間引いた。
*   ワンホットエンコーディングを採用。ターゲットエンコーディングも試したが、効果なしと判断した。

#### モデル
*   モデルはLightGBMを採用。
*   他にもXGBoost, Catboostを試したが、LightGBM程スコアが出ず。
*   初めてスタッキングも試みたが、精度出ず。
*   今回のコンペの一番の肝は「クラスの不均衡」の対処だったため、クラスに重みづけすることで誤分類した場合のペナルティを大きくした。重みの大きさは評価用データの各クラスのprecision, recall, f1のバランスを見ながら設定。


#### 上位解法
- One-vs-All分類問題(objective:multiclassova)として学習。
- カスタム評価関数でmacroF1scoreを使用。
- 不均衡に対してアンダーサンプリングを採用した手法が多かった。

#### 今回のコンペで学んだこと
*   publicスコアだけを追いかけてはならない。コード中の(1)の部分の"SEED"を"random_seed"にして分割を多様化すると、最終評価で銀相当のスコア(0.374程度)が出ていた。汎化性能を意識したモデル作りが重要。
*   外部データを使用したことでスコアが上がったと考える。今後も使えそうな外部データはないか常に意識する。
*   カスタム評価関数を積極的に利用する。
